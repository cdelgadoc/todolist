<div class="card-body">
  <div class="modal-header text-center">
    <h3 class="modal-title" id="exampleModalLabel">Categorias</h3>
  </div>
  <form [formGroup]="categoriaForm" role="form" class="text-start">
    <div class="row">
      <div class="col">
        <div class="input-group input-group-outline my-3">
          <input id="nombre" type="text" formControlName="nombre" class="form-control" placeholder="Nombre de la categoría" />
        </div>
        <div>
          <div *ngIf="nombre?.errors?.['required'] && (nombre?.dirty || nombre?.touched)" class="text-danger">La categoría es requerida.</div>
          <div *ngIf="nombre?.errors?.['minlength'] && (nombre?.dirty || nombre?.touched)" class="text-danger">La categoría debe tener al menos 3 caracteres.</div>
          <div *ngIf="nombre?.errors?.['maxlength'] && (nombre?.dirty || nombre?.touched)" class="text-danger">La categoría debe tener máximo 50 caracteres.</div>
        </div>
      </div>
      <div class="col">
        <div class="input-group input-group-outline my-3">
          <input id="descripcion" type="text" formControlName="descripcion" class="form-control" placeholder="Descripción de la categoría" />
        </div>
        <div>
          <div *ngIf="descripcion?.errors?.['required'] && (descripcion?.dirty || descripcion?.touched)" class="text-danger">La descripción es requerida.</div>
          <div *ngIf="descripcion?.errors?.['minlength'] && (descripcion?.dirty || descripcion?.touched)" class="text-danger">La descripción debe tener al menos 3 caracteres.</div>
          <div *ngIf="descripcion?.errors?.['maxlength'] && (descripcion?.dirty || descripcion?.touched)" class="text-danger">La descripción debe tener máximo 50 caracteres.</div>
        </div>
      </div>
    </div>
    <div class="text-center">
      <button type="button" class="btn bg-gradient-primary w-100 my-4 mb-2" (click)="guardar()" [disabled]="!categoriaForm.valid">Guardar</button>
    </div>
  </form>
  
</div>

<div class="container-fluid mt-1 py-3">
  <div class="card my-4">
      <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
          <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
              <h3 class="text-white text-center ps-3">Categorias</h3>
          </div>
      </div>
      <div class="card-body px-0 pb-2">
          <div class="table-responsive p-0">
              <table class="table custom-table text-center">
                  <thead>
                      <tr>
                          <th>Nombre</th>
                          <th>Descripción</th>
                          <th>Update</th>
                          <th>Delete</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let categoria of getCategorias()">
                          <td>{{categoria.nombre}}</td>
                          <td>{{categoria.descripcion}}</td>
                          <td>
                            <button (click)="actualizar(categoria)"
                                  class="btn btn-success">Update
                            </button>
                          </td>
                          <td>
                            <button (click)="borrarCategoria(categoria.id)" 
                                  class="btn btn-warning">Delete
                            </button>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      </div>
  </div>
</div>
